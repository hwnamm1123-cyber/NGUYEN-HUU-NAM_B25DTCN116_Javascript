<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bai 3</title>
</head>
<body>
    <script>
        let booksId = [];
        let booksName = [];
        let inventoryQuantity = [];
        let n = parseInt(prompt("Có bao nhiêu loại sách kiểm tra bổ sung hôm nay?"));

        if (isNaN(n) || n <= 0) {
            console.log("Vui lòng nhập một số nguyên dương hợp lệ");
        } else {
            for (let i = 0; i < n; i++) {
                console.log(`Nhập thông tin loại sách thứ ${i + 1}`);
                
                let id, name, qty;

                do {
                    id = prompt(`Nhập mã sách thứ ${i + 1}:`).trim();
                } while (id === "");

                do {
                    name = prompt(`Nhập tên sách thứ ${i + 1}:`).trim();
                } while (name === "");

                do {
                    qty = parseInt(prompt(`Nhập số lượng tồn kho cho sách ${name}:`));
                } while (isNaN(qty) || qty < 0);

                booksId.push(id);
                booksName.push(name);
                inventoryQuantity.push(qty);
            }

            console.log("Tổng số loại sách đang kiểm tra: " + booksId.length);

            let countLowStock = 0;
            let outOfStockIds = [];

            for (let i = 0; i < inventoryQuantity.length; i++) {
                if (inventoryQuantity[i] <= 5) {
                    countLowStock++;
                }
                if (inventoryQuantity[i] === 0) {
                    outOfStockIds.push(booksId[i]);
                }
            }

            console.log("Số lượng sách cần ưu tiên bổ sung (tồn kho ≤ 5): " + countLowStock);

            if (outOfStockIds.length > 0) {
                console.log("Các mã sách đã hết hàng (tồn kho = 0): " + outOfStockIds.join(", "));
            } else {
                console.log("Không có sách nào hết hàng hoàn toàn.");
            }

            console.log("DANH SÁCH CHI TIẾT:");
            for (let i = 0; i < n; i++) {
                console.log(`${i + 1}. Mã: ${booksId[i]} - Tên: ${booksName[i]} - Tồn: ${inventoryQuantity[i]}`);
            }
        }
    </script>
</body>
</html>