<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        let arr = [];
        let isRunning = true;

        while (isRunning) {
            let menu = `
            MENU
            1. Nhập số phần tử và giá trị các phần tử
            2. In ra giá trị các phần tử đang quản lý
            3. In ra các phần tử chẵn và tính tổng
            4. In ra giá trị lớn nhất và nhỏ nhất
            5. In ra các số nguyên tố và tính tổng
            6. Thống kê số lần xuất hiện của một số
            7. Thêm một phần tử vào vị trí chỉ định
            8. Thoát
            Lựa chọn của bạn:`;

            let choice = prompt(menu);

            switch (choice) {
                case "1":
                    let n = parseInt(prompt("Nhập số lượng phần tử:"));
                    if (n > 0) {
                        arr = []; 
                        for (let i = 0; i < n; i++) {
                            arr.push(Number(prompt("Nhập phần tử thứ " + (i + 1) + ":")));
                        }
                    } else {
                        alert("Số lượng không hợp lệ!");
                    }
                    break;

                case "2":
                    console.log("Danh sách mảng:", arr.length > 0 ? arr.join(", ") : "Mảng rỗng");
                    break;

                case "3":
                    let evens = arr.filter(num => num % 2 === 0);
                    let sumEven = evens.reduce((sum, num) => sum + num, 0);
                    console.log("Các số chẵn:", evens.join(", "));
                    console.log("Tổng các số chẵn:", sumEven);
                    break;

                case "4":
                    if (arr.length > 0) {
                        let max = Math.max(...arr);
                        let min = Math.min(...arr);
                        console.log("Giá trị lớn nhất: " + max);
                        console.log("Giá trị nhỏ nhất: " + min);
                    } else {
                        console.log("Mảng rỗng!");
                    }
                    break;

                case "5":
                    let primes = arr.filter(num => {
                        if (num < 2) return false;
                        for (let i = 2; i <= Math.sqrt(num); i++) {
                            if (num % i === 0) return false;
                        }
                        return true;
                    });
                    let sumPrime = primes.reduce((sum, num) => sum + num, 0);
                    console.log("Các số nguyên tố:", primes.join(", "));
                    console.log("Tổng số nguyên tố:", sumPrime);
                    break;

                case "6":
                    let target = Number(prompt("Nhập số cần thống kê:"));
                    let count = arr.filter(num => num === target).length;
                    console.log("Số " + target + " xuất hiện " + count + " lần trong mảng.");
                    break;

                case "7":
                    let newValue = Number(prompt("Nhập giá trị cần thêm:"));
                    let index = parseInt(prompt("Nhập vị trí cần chèn (0 đến " + arr.length + "):"));
                    
                    
                    
                    if (index >= 0 && index <= arr.length) {
                        arr.splice(index, 0, newValue);
                        console.log("Đã thêm thành công!");
                    } else {
                        alert("Vị trí không hợp lệ!");
                    }
                    break;

                case "8":
                    console.log("Tạm biệt!");
                    isRunning = false;
                    break;

                default:
                    alert("Lựa chọn không hợp lệ, vui lòng chọn từ 1-8!");
                    break;
            }
        }
    </script>
</body>
</html>